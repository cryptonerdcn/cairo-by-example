{{ define "main" }}
<h3>{{ .Title }}</h3>
{{ .Content }}

<br>
<details>
    <summary><i>try it out</i></summary>

    install the cairo toolchain if you haven't yet:
    <pre>
	curl -L https://github.com/franalgaba/cairo-installer/raw/main/bin/cairo-installer | bash
        </pre>

    then checkout and run the example:
    <pre>
        </pre>
</details>
<br>

{{- $prev := .NextInSection }}
{{- $next := .PrevInSection }}
<div style="display: flex; justify-content: space-between;">
    {{- if $prev }}
    <a href="{{ $prev.Permalink }}">prev ({{ $prev.Title }})</a>
    {{- else }}
    <p>...</p>
    {{- end }}

    {{- if $next }}
    <a href="{{ $next.Permalink }}">next ({{ $next.Title }})</a>
    {{- else }}
    <p>...</p>
    {{- end }}
</div>

<script>
    const runButtons = document.querySelectorAll('.runButton');

    // Loop over each button
    runButtons.forEach(function (runButton) {
        // Add a click event listener to the run button
        runButton.addEventListener('click', function () {
            // Get the code from the div
            const divElement = runButton.parentElement;
            const resultBlock = divElement.querySelector('.resultBlock');
            resultBlock.style.display = 'block';
            resultBlock.innerHTML = "Running...";
            runButtonAction(divElement.innerHTML).then(function (result) {
                resultBlock.innerHTML = result;
            });
        });
    });
</script>

{{ end }}
